/**
 * Accessibility enhancements for IPG Taxonomy Extractor
 * 
 * WCAG 2.1 AA compliance styles:
 * - High contrast mode support
 * - Focus indicators
 * - Screen reader optimizations
 * - Reduced motion preferences
 * - Touch target sizing
 */

/* Screen reader only content */
.sr-only {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

/* Enhanced focus indicators for keyboard navigation */
.segment-btn:focus,
.ms-Button:focus,
#btnActivationID:focus,
#btnTargeting:focus,
#btnKeepPattern:focus,
#btnUndo:focus {
  outline: 2px solid #106ebe !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 1px rgba(16, 110, 190, 0.3) !important;
}

/* High contrast mode styles */
@media (prefers-contrast: high), (-ms-high-contrast: active) {
  body,
  .ms-Grid {
    background-color: Window !important;
    color: WindowText !important;
  }

  .segment-btn,
  .ms-Button--default {
    background-color: ButtonFace !important;
    border: 2px solid ButtonText !important;
    color: ButtonText !important;
  }

  .segment-btn:hover,
  .ms-Button--default:hover {
    background-color: Highlight !important;
    color: HighlightText !important;
    border-color: HighlightText !important;
  }

  .segment-btn:disabled,
  .ms-Button--default:disabled {
    background-color: Window !important;
    color: GrayText !important;
    border-color: GrayText !important;
  }

  .ms-Callout {
    background-color: InfoBackground !important;
    border: 2px solid InfoText !important;
    color: InfoText !important;
  }

  .ms-MessageBar {
    background-color: InfoBackground !important;
    color: InfoText !important;
    border: 1px solid InfoText !important;
  }

  /* Ensure sufficient contrast for status indicators */
  .has-data {
    background-color: Highlight !important;
    color: HighlightText !important;
  }

  .undo-available {
    background-color: ButtonFace !important;
    border-color: ButtonText !important;
  }
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .segment-btn,
  .ms-Button--compound,
  .ms-MessageBar,
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    transition-delay: 0ms !important;
  }
}

/* Touch target sizing for mobile accessibility */
@media (pointer: coarse) {
  .segment-btn,
  .ms-Button {
    min-height: 44px !important;
    min-width: 44px !important;
    padding: 12px 16px !important;
  }

  /* Larger spacing between interactive elements */
  .button-row {
    gap: 8px !important;
  }

  .targeting-button-row {
    gap: 8px !important;
  }
}

/* Enhanced focus indicators for high contrast mode */
@media (prefers-contrast: high) {
  *:focus {
    outline: 3px solid ButtonText !important;
    outline-offset: 2px !important;
  }
}

/* Ensure proper color contrast ratios */
.status-region[aria-live] {
  /* Ensure status announcements are visually accessible */
  background-color: rgba(0, 120, 215, 0.1);
  border-left: 4px solid #0078d4;
  padding: 8px 12px;
  margin: 4px 0;
  border-radius: 4px;
}

/* High contrast adjustments for live regions */
@media (prefers-contrast: high) {
  .status-region[aria-live] {
    background-color: InfoBackground !important;
    border-left-color: InfoText !important;
    color: InfoText !important;
  }
}

/* Ensure adequate spacing for readability */
.accessibility-enhanced .button-row {
  margin: 8px 0;
}

.accessibility-enhanced .section-header {
  margin-bottom: 12px;
  font-weight: 600;
}

/* Loading state accessibility */
.processing .ms-Button-label::after {
  content: " - Processing";
}

@media (prefers-reduced-motion: no-preference) {
  .processing .ms-Button-label::after {
    animation: pulse 1.5s ease-in-out infinite alternate;
  }
}

@keyframes pulse {
  0% { opacity: 0.6; }
  100% { opacity: 1; }
}

/* Ensure consistent hover states for accessibility */
.segment-btn:not(:disabled):hover,
.ms-Button:not(:disabled):hover {
  transform: none !important; /* Remove any transforms that might confuse screen readers */
}

/* Skip link for keyboard navigation */
.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: #000;
  color: #fff;
  padding: 8px;
  z-index: 1000;
  text-decoration: none;
  border-radius: 4px;
}

.skip-link:focus {
  top: 6px;
}